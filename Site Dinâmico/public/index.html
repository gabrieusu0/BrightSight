<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tela Inicial</title>
    <link rel="stylesheet" href="./Página Inicial/css/estilojuntos.css">
</head>
<body>
    <div class="header">
        <div class="container">
          <h1><img class="imagem" src="./Página Inicial/img/bright_sight-removebg-preview.png"></h1>
          <ul class="navbar">
            <li class="agora">
              <a href="#">Inicial</a>
            </li>
            <li>
                <a href="#sec_simulador">Simulador</a>
              </li>
            <li>
              <a href="./Login/cadastro.html"><button class="azul">Cadastro</button></a>
            </li>
            <li>
              <a href="./Login/login2.html"><button class="laranja">Login</button></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="banner">
        <div class="banner-left">
            <h2>COM A BRIGHTSIGHT O SOL BRILHA PRA VOCÊ
            TODOS OS DIAS, O FUTURO É SUSTENTÁVEL CONHEÇA SOLUÇÕES BRILHANTES!</h2>
            <a href="#sec_solucao"><button class="btn-banner">Conheça nossa solução</button></a>
        </div>
        
        <div class="banner-right">
            <img src="./Página Inicial/img/painel.png" alt="Painel Solar">
        </div>
    </div>
    
    <div class="social">
        <div class="container">
          <div class="boxes">
            <div class="box">
              <img src="./Página Inicial/img/Missao-300x300.jpg">
 
              <p>Nosso objetivo é promover a eficiência energética, maximizar os lucros 
                dos clientes e fomentar a sustentabilidade ambiental.</p>
            </div>
            <div class="box">
              <img src="./Página Inicial/img/Visao.jpg">
   
              <p>Ser referência no setor de tecnologias para energia renovável, 
                oferecendo soluções inovadoras e acessíveis que capacitem as empresas a tomar decisões estratégicas.</p>
            </div>
            <div class="box">
              <img src="./Página Inicial/img/Valores.jpg">

              <p>Nossa visão se baseia em: Sustentabilidade, Inovação, Precisão, Transparência, Excelênte Atendimento</p>
            </div>
          </div>
        </div>
      </div>

<section id="sec_solucao">
  <div class="nossaSolucao">
       <!-- Título principal da página -->
    <h1>Conheça nossa Solução!</h1>

    <!-- Container principal que vai conter todas as seções (sensores, dashboard e insights) -->
    <div class="container3">

        <!-- Primeira seção: Sensores LDR -->
        <div class="box">
            <!-- Texto da primeira seção -->
            <p>Instalamos sensores LDR em locais estratégicos para medir a incidência solar</p>
            <!-- Imagem representativa da primeira seção -->
            <img src="./Página Inicial/img/sensor.png" alt="Sensores LDR">
        </div>

        <!-- Segunda seção: Análise por dashboard -->
        <div class="box">
            <!-- Texto da segunda seção -->
            <p>Apresentamos as análises por meio de dashboard para o cliente, de forma precisa e em tempo real</p>
            <!-- Imagem representativa da segunda seção -->
            <img src="./Página Inicial/img/dashboard.jpg" alt="Dashboard de análise">
        </div>

        <!-- Terceira seção: Insights sobre eficiência -->
        <div class="box">
            <!-- Texto da terceira seção -->
            <p>Tornamos possível insights valiosos sobre a eficiência dos sistemas solares e tomadas de decisões.</p>
            <!-- Imagem representativa da terceira seção -->
            <img src="./Página Inicial/img/fechado.png" alt="Insights valiosos">
        </div>
    </div>
  </div>
</section>
<section id="sec_simulador">
  <h1 class="titulo">Simulador de Resultados</h1>
  <div class="container5">
    <!-- Formulário de entrada de dados -->
    <div class="quadrado">
        <h1>Selecione o modelo de sua placa solar:</h1>
        <div style="width: 80%;padding-left: 100px;">
        <select id="slc_modelo" class="select">
            <option class="valor" value="on">On-Grid</option>
            <option value="off">Off-Grid</option>
        </select>
<div class="tooltip" style="margin-left: 10px;">❓
  <span class="tooltiptext">ON-GRID = Conectado à rede pública <BR> OFF-GRID =  Independente da rede, com baterias</span>
</div>
</div>
        <br>

        <!-- Entrada para a potência das placas solares -->
        <h2>Qual a potência máxima de suas placas em Watts?</h2> 
        <input class="input" type="number" id="ipt_potencia"> 
        <br>

        <!-- Entrada para o tempo de incidência solar -->
        <h2>Qual o tempo médio de incidência solar no dia?</h2>
        <input class="input" type="number" id="ipt_tempo">
        <br> 

        <!-- Entrada para a quantidade de placas solares -->
        <h2>Quantas placas solares possui?</h2>
        <input class="input" type="number" id="ipt_quantidade">
        <br><br>
        
        <!-- Botão de simulação -->
        <button class="botao" onclick="calcularIrradiancia()">SIMULE</button> 
        <br><br>
    </div>

    <!-- Container para a exibição dos resultados e imagem -->
    <div class="container2">
        <!-- Imagem representativa -->
        <div>
            <img class="imagem5" src="./Simulador Financeiro/Wavy_Eco-01_Single-04.jpg" alt="Imagem de Energia Solar">
        </div>

        <!-- Caixa para exibir os resultados da simulação -->
        <div class="quadrado2">
            <div class="resultado">
                <h3>RESULTADOS:</h3>
                <p id="resultadoSemSolucao"></p>
                <p id="resultadoComSolucao"></p>
            </div>
        </div>
    </div>
</div>

</section>

<div class="fundo">
  <div class="elementos">
      <div class="textos">Faça seu Orcamento! <br> Entraremos em contato o quanto antes</div>
      <div class="quadradao">
          <div class="inputs">
              <p>Nome da Empresa</p>
              <input id="ipt_nome" type="text">
          </div>
          <div class="inputs">
              <p>CNPJ</p>
              <input id="ipt_cnpj" type="text">
          </div>

          <div class="inputs">
            <p>Telefone para contato</p>
            <input id="ipt_telefone" type="text">
        </div>
          <div class="inputs">
              <p>Código de Verificação</p>
              <input id="ipt_codigo" type="text">
          </div>
          <div>
              <button onclick="enviar()" class="botao">Enviar</button>
          </div>
      </div>
  </div>
</div>
      <footer>
        <b>Faça parte da nossa comunidade!</b>
    </footer>
</body>
</html>
<script>



  function enviar() {

    var nomeVar = ipt_nome.value;
    var cnpjVar = ipt_cnpj.value;
    var telefone_Var = ipt_telefone.value;
    var codigoVar = ipt_codigo.value;
    
    fetch("/usuarios/enviarEmpresa", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        // crie um atributo que recebe o valor recuperado aqui
        // Agora vá para o arquivo routes/usuario.js
        nomeEServer: nomeVar,
        cnpjServer: cnpjVar,
        telefoneServer: telefone_Var,
        codigoServer: codigoVar
      }),
    })
      .then(function (resposta) {
        console.log("resposta: ", resposta);

        if (resposta.ok) {
          // cardErro.style.display = "block";

          // mensagem_erro.innerHTML =
          //   "Cadastro realizado com sucesso! Redirecionando para tela de Login...";

          // setTimeout(() => {
          //   window.location = "login2.html";
          // }, "2000");

          // limparFormulario();
          // finalizarAguardar();
        } 
        // else {
        //   throw "Houve um erro ao tentar realizar o cadastro!";
        // }
      })
      .catch(function (resposta) {
        console.log(`#ERRO: ${resposta}`);
        // finalizarAguardar();
      });

  }

  function calcularIrradiancia() {
      // Captura os valores dos campos do formulário
      var modelo = slc_modelo.value;
      var potencia = Number(ipt_potencia.value);
      var incidencia = Number(ipt_tempo.value);
      var quantidade = Number(ipt_quantidade.value);

      // Variáveis para cálculos
      var perda = ""; // Perda de energia com base no modelo (On-Grid ou Off-Grid)
      var solucao = 0.30; // Solução aplicada para melhorar a incidência solar
      var energiaSemSolucao = ""; // Energia gerada sem solução
      var energiaComSolucao = ""; // Energia gerada com solução
      var energiaGanha = potencia * incidencia; // Energia sem perdas
      var incidenciaSolucao = incidencia * solucao; // Ganho extra de energia com a solução

      // Condição para determinar a perda de energia com base no modelo
      if (modelo == 'on') {
          perda = energiaGanha * 0.20; // Perda de 20% no modelo On-Grid
      } else if (modelo == 'off') {
          perda = energiaGanha * 0.35; // Perda de 35% no modelo Off-Grid
      }

      // Cálculo da energia sem a solução: (Potência * tempo de incidência solar) - perda
      energiaSemSolucao = (energiaGanha - perda) / 1000;

      // Cálculo da energia com a solução: melhoria na incidência solar aplicada
      energiaComSolucao = (((incidenciaSolucao + incidencia) * potencia) - perda) / 1000;

      // Diferença de energia entre os dois cenários
      var energiaReal = energiaComSolucao - energiaSemSolucao;

      // Cálculo de 30 dias de operação
      var trintaDias = energiaComSolucao * 30;

      // Cálculo do lucro gerado pela solução
      var lucroSolucao = ((energiaReal * 0.75) * 30) * quantidade;

      // Limitar os valores para duas casas decimais
      energiaSemSolucao = energiaSemSolucao.toFixed(2);
      energiaComSolucao = energiaComSolucao.toFixed(2);
      energiaReal = energiaReal.toFixed(2);
      trintaDias = trintaDias.toFixed(2);
      lucroSolucao = lucroSolucao.toFixed(2);

      // Exibição dos resultados na tela
      resultadoSemSolucao.innerHTML = `<b style='color: red; font-size: 18px'>Sem a nossa solução:</b> cada um de seus painéis gera ${energiaSemSolucao} kWh de energia por dia.`;

      resultadoComSolucao.innerHTML = `<b style='color: #1F9006; font-size: 18px'><hr style="height: 2px; background-color: black;">Com a nossa solução:</b> cada um de seus painéis gera ${energiaComSolucao} kWh de energia por dia.<br>
      Nesse caso, considerando o período de 30 dias, cada placa produziria ${trintaDias} kWh.<br>
      Analisando os dois cenários: <b style='color: #1F9006; font-size: 18px'>terá um lucro real de R$ ${lucroSolucao} por mês.</b>`;
  }
</script>