<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrightSight | Cadastro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <div class="container">
          <h1><img class="imagem2" src="./assets/imgs/logo.png" alt=""></h1>
          <ul class="navbar">
            <li>
              <a href="../Página Inicial/juntos.html">Inicial</a>
            </li>
            <li>
              <button class="laranja"><a href="../Login/login2.html">Login</a></button>
            </li>
          </ul>
        </div>
      </div>
    <div class="principal">
            <div class="cadastro">
            <h1>Cadastro</h1>
            <p class="texto_forte">Digite o usuário: </p>
            <input type="text" oninput="analisar()" id="ipt_usuario" class="inputCadastro">
            <div id="div_mensagemLogin" class="MsgErro"></div>
            <p class="texto_forte">Informe seu email: </p>
            <input type="text" oninput="analisar()" id="ipt_email" class="inputCadastro">
            <div id="div_mensagemEmail" class="MsgErro"></div>
            <p class="texto_forte">Informe sua senha: </p>
            <input type="password" oninput="analisar()" id="ipt_senha" class="inputCadastro">
            <div id="div_senha" class="MsgErro"></div>
            <p class="texto_forte">Confirme sua senha: </p>
            <input type="password" oninput="analisar()" id="ipt_senhaconfirmada" class="inputCadastro">
            <div id="div_senhaConfirmada" class="MsgErro"></div> <br>
            <button onclick="analisar()" class="button">Cadastrar</button>
            <div id="div_msgFinal" class="MsgErro"></div>
            <div>
                <p>Já possui um cadastro?</p>
                <a href="../Login/login2.html" style="color: #F66B0E;"><p style="color:#F66B0E;">Clique aqui para fazer o login</p></a>
            </div>
            </div>
            <div>
                <img class="imagemCadastro" src="../Login/assets/imgs/cadastro.jpeg" alt="imagem ilustrativa da inserção do login">
            </div> <!-- A TAG ESTÁ FORA DA DIV CADASTRO MAS DENTRO DA PRINCIPAL-->
    </div>
        <footer>
            <b>Faça parte da nossa comunidade!</b>
        </footer>

</body>
</html>

<script>
  function analisar(){
      
      // declarando as variáveis base

      var usuario = ipt_usuario.value;
      var email = ipt_email.value;
      var senha = ipt_senha.value;
      var senhaconfirmada = ipt_senhaconfirmada.value;


      if (usuario == '' || email == '' || senha == '') {
          div_msgFinal.innerHTML = `<br>Todos os campos devem estar preenchidos!`; // verifica se algum dos campos não foi preenchido
      
      }else{
        div_msgFinal.innerHTML = ``
      }

       // validação do usuário

      var usuarioTemMaiusculo = usuario.toLowerCase();
      var usuarioTemMinusculo = usuario.toUpperCase();
      var tamanhoUsuario = usuario.length;
      if(tamanhoUsuario == 0){
        div_mensagemLogin.innerHTML = ``
      }/*(else if(tamanhoUsuario < 8){
        div_mensagemLogin.innerHTML = `O usuário deve conter pelo menos 8 caracteres`
      }*/
      else if (usuarioTemMaiusculo == usuario) {
        div_mensagemLogin.innerHTML = `<br>O login deve conter pelo menos uma letra maiúscula.`
      }else if(usuarioTemMinusculo == usuario){
        div_mensagemLogin.innerHTML = `<br>O login deve conter pelo menos uma letra minúscula.`
      }else if((usuarioTemMaiusculo != usuario) && (usuarioTemMinusculo != usuario)){
        div_mensagemLogin.innerHTML = ``
      }

      // validação de senha

      var senhaTemMaiusculo = senha.toLowerCase(); //transforma a senha toda em minúsculo
      var senhaTemMinusculo = senha.toUpperCase(); // transforma a senha toda em maiúscula
      var tamanhoSenha = senha.length; // variável que pega o tamanho da senha 
      if(tamanhoSenha == 0){
        div_senha.innerHTML = ``; // checa se o campo estiver vazio
      }
      else if (senha == senhaTemMaiusculo) {
         div_senha.innerHTML = `A senha deve conter pelo menos uma letra maiúscula.`; // checa se a senha contem algum caracter em maiúsculo
      }else if (senha == senhaTemMinusculo){
        div_senha.innerHTML = `A senha deve conter pelo menos uma letra minúscula.`; // checa se a senha contem algum caracter em minúsculo
      }else if((senhaTemMaiusculo != senha) && (senhaTemMinusculo != senha)){
        div_senha.innerHTML = ``; // checa se a senha é válida
      }


      if (senha != senhaconfirmada) {
        div_senhaConfirmada.innerHTML = `As senhas não coincidem.`; 
      }   // checa se as senhas coincidem, se não exibe a mensagem "As senhas não coincidem"
      else{  
        div_senhaConfirmada.innerHTML = ``;
      }

      // validação do email

      var index_email = email.indexOf('@'); // pega a casa onde estava a "casa" do caracter @

      var index_com = email.indexOf('.com'); //pega a casa onde começa as "casas" do ".com"

      var tamanhoEmail = email.length; // pega o tamanho do email

      if(index_email == -1 && email.length == 0){ // verifica se não possui @ e se o valor está vazio
        div_mensagemEmail.innerHTML = ``
      }else if(index_email == -1 && email.length != 0){ //verifica se não possui @ mesmo se existir valor dentro da input
        div_mensagemEmail.innerHTML = `Email inválido, deve possuir @`  
      }
      else if (index_email > index_com){ // verifica se o @ vem depois do .com
        div_mensagemEmail.innerHTML = `<br> Email inválido, o @ deve vir antes do .com`
      }else if (index_email < index_com){ // verifica se o @ vem antes do .com
        div_mensagemEmail.innerHTML = ``
      }}
</script>
